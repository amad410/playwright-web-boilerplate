# Introduction 
This sample is designed for use in VsCode and includes source code for testing the web frontend using Playwright. It also uses the Allure reporter to report results 

# Getting Started
TODO: Guide users through getting your code up and running on their own system. In this section you can talk about:
1. Install node
2. Install npm
3. Install VsCode

### Documentation
If you want to learn more refer the following:
- [Playwright Official Docs](https://playwright.dev/docs/intro)

### Folder Structure

├───.vscode

│   └───launch.json

├───reports

│   ├───html

│   └───json

├───screenshots

├───tests

│   ├───specs

│   │   ├───login.spec.js

│   │   └───homepage.spec.js

│   ├───data

│   │   ├───login.json

│   │   └───homepage.json

│   ├───helpers

│   │   └───assertions.js

│   └───pageobjects

│       ├───login.page.js

│       └───homepage.page.js

├───config

│   ├───wdio.conf.js

│   └───test.env

└───package.json

Here is the most basic folder structure of a WebDriverIO project:
 - .vscode: This folder contains the Visual Studio Code configuration file that specifies debugging settings
 - reports: This folder contains the HTML and JSON reports generated by the test runner.
 - screenshots: This folder contains screenshots captured during test execution.
 - tests: This folder contains all the test files, along with any associated data, helpers, and page objects.
 - specs: This folder contains the actual test files written in Mocha/Chai syntax.
 - data: This folder contains any test data in JSON format that is used in the test files.
 - helpers: This folder contains helper functions used in the test files.
 - pageobjects: This folder contains the Page Object Model (POM) files that define the web page elements and actions.
 - config: This folder contains the Playwright configuration file (wdio.conf.js) and any environment variables required for test execution.
 - package.json: This file specifies the project's dependencies and metadata, including the test runner (mocha), assertion library (chai), and Playwright packages 

# Install Dependencies
On the commandline at the base of the project, perform 
_npm install_

# Verify Installation
From command line navigate to source project folder and perform
Run _npm run wdio_
NOTE: Make sure your browser is up-to-date.

# Check version of Playwright
To check your version of Cypress you can perform the following:
_npx playwright --version_ 

# Updating All Packages
Install the package update checker using this documentation [here](https://www.npmjs.com/package/npm-check-updates)

Run the following command to determine the difference between all package versions in package.json versus the latest out there:
_npx ncu_

Then to update all packages that have been identified, you can run the following to update your package.json:
_npx npm-check-updates -u_ 

Then run _npm install_ to install new versions from your package.json.

# Build and Test
1. From command line navigate to source project folder and perform.  The different ways to run tests can be found [here](https://playwright.dev/docs/running-tests).

## Run specific spec noninteractively
By default, tests will run in headless mode, unless you run the following command 
_npx playwright test_

## Run all tests interactively
By default, tests will run in headless mode, unless you run the following command 
_npx playwright test --headed_

Or using the commands from package.json

_npm run test_

## Run specific spec 
_npx playwright test tests/sample.spec.js_

## Run UI tests in debug mode
_npx playwright test --debug_ which will launch the Playwright Inspector for Debugging. 
More information [here](https://playwright.dev/docs/debug)
NOTE: You cannot debug API calls using Inspector.

## Run API tests in debug mode
Perform the following:
1. Modify package.json to include the command in the test script section
2. SHIFT + CNTRL + V for Windows and search for 'Debug npm script'
This will look at the script section in the package.json and debug your script

Similarly, you can use the Javascript debugger in the terminal.


## Running tests in parallel
See more information [here](https://playwright.dev/docs/test-parallel)

## Show last HTML report
_npx playwright show-report_

## Getting Test Traces

By default, it is turned on. However, you can turn it off by removing or setting the trace configuration value in your config to _off_.
```
use: {
    /* Base URL to use in actions like `await page.goto('/')`. */
     baseURL: 'http://www.google.com',
     //browserName : 'chromium',
     screenshot: 'on',
    /* Collect trace when retrying the failed test. See https://playwright.dev/docs/trace-viewer */
    trace: 'on-first-retry',
  },

```
More Information [here](https://debbie.codes/blog/reports-tracing-tests-in-playwright/)

## Viewing Test Traces

Precondition: See above on how to generate trace files from tests.  You can set options in the playwright.config.js.

Perform the following:

1. Navigate to [Playright Trace Loader](trace.playrwight.dev)
2. Select zip file from your test-results directory

More information [here](https://playwright.dev/docs/trace-viewer)

## Getting Screenshots 

By default, it is turned on. However, you can turn it off by removing or setting the screenshot configuration value in your config to _off_.

```
use: {
    /* Base URL to use in actions like `await page.goto('/')`. */
     baseURL: 'http://www.google.com',
     //browserName : 'chromium',
     screenshot: 'on',
    /* Collect trace when retrying the failed test. See https://playwright.dev/docs/trace-viewer */
    trace: 'on-first-retry',
  },

```
More information can be found [here](https://testersdock.com/playwright-screenshot-capture/)

## Run specific suite interactively
See documentation [here](https://webdriver.io/docs/organizingsuites/)
_npx playwright --suite <suiteName>_

## Code Development
### Codegen Tool
_npx playwright codegen <application url>_
More information [here](https://playwright.dev/docs/codegen)

### Development Documentation
 - General Test Development: [here](https://playwright.dev/docs/writing-tests)
 - API: [here](https://playwright.dev/docs/test-api-testing)
 - Mock APIs: [here](https://playwright.dev/docs/mock)
 - Mock Browser APIs: [here](https://playwright.dev/docs/mock-browser-apis)
- Intercepting Network Calls: [here](https://playwright.dev/docs/network)

 ### TypeScript
 - TypeScript: [here](https://playwright.dev/docs/test-typescript)


## Assertions
The list of assertions are [here](https://playwright.dev/docs/test-assertions#list-of-assertions)

## Visual Testing
Implement Visual Testing [here](https://playwright.dev/docs/test-snapshots)

## Locators
1. Page locator - [here](https://playwright.dev/docs/pages)
2. General locators - [here](https://playwright.dev/docs/locators)

## Wait Strategies
 1. Waits - [here](https://webdriver.io/docs/autowait/)
 2. WaitForClickable - [here](https://webdriver.io/docs/api/element/waitForClickable/)
 3. WaitForDisplayed - [here](https://webdriver.io/docs/api/element/waitForDisplayed)
 4. WaitForEnabled - [here](https://webdriver.io/docs/api/element/waitForEnabled)
 5. WaitForExist - [here](https://webdriver.io/docs/api/element/waitForExist)
 6. WaitUntil - [here](https://webdriver.io/docs/api/element/waitUntil)

## Run tests using CLI using a different environment
Cross ENV is the package library that is being used to run test across multiple environments [here](https://www.npmjs.com/package/cross-env). By default the following JSON environment configurations are included:
1. LOCAL
2. DEV
3. QA
4. STAGE

You can point to a specific baseUrl based on the configurations you pass above. For example, the following will run agains the QA environment specified in the wdio.conf.ts file:
_npx cross-env ENV=QA npm run test_

NOTE: By default, the tests will run in headless mode.  If you want to run interactively, comment out chromeoptions section in config file as outlined [here](https://webdriver.io/docs/configurationfile/)

## Run tests using CLI for a specific browser
Consult the Services section [here](https://webdriver.io/docs/gettingstarted)
 | [Standalone service](https://webdriver.io/docs/selenium-standalone-service)

By default, this framework is wired to support the following browser tests:
 - Chrome
 - Firefox
 - Edge

 NOTE: By default, the tests will run in headless mode.  If you want to run interactively on chrome for example, comment out chromeoptions section in config file as outlined [here](https://webdriver.io/docs/configurationfile/).

 To run tests against a specific browser:

 _npx cross-env ENV=QA npm run test:firefox_
 _npx cross-env ENV=QA npm run test:edge_
 _npx cross-env ENV=QA npm run test:allbrowsers_

## Running Suites
You can run suites of tests. Consult documentation [here](https://webdriver.io/docs/organizingsuites/)

# Configurations
See documentation [here](https://webdriver.io/docs/watcher/#:~:text=With%20the%20WDIO%20testrunner%20you,it%20ran%20all%20tests%2C%20e.g.)

# Reports
The most popular types are:
1. [Spec](https://webdriver.io/docs/spec-reporter/)
2. [Allure](https://webdriver.io/docs/allure-reporter)
3. [Mochawesome](https://webdriver.io/docs/wdio-mochawesome-reporter)

## Generate Report
By default, this framework is set to use _spec_ and _allure_. To generate the allure report:

_npm run report_

# Additional References
 1. Official documentation [here](https://webdriver.io/docs)
 2. Chai Assertions - [here](https://webdriver.io/docs/assertion/)
 3. XPath plugin - [here](https://v6.webdriver.io/docs/selectors.html)
 4. WebDriverIO + Jenkins CI Integration - [here](https://webdriver.io/docs/jenkins/)
 5. WebDriverIO + Azure CI Integration - [here](https://webdriver.io/docs/gmangiapelo-wdio-azure-devops-service/)
 5. WebDriverIO + GitLab CI Integration - [here](https://docs.gitlab.com/ee/ci/examples/end_to_end_testing_webdriverio/) and [here](https://medium.com/dolap-tech/how-to-run-selenium-automation-tests-on-gitlab-ci-cd-github-actions-bd743142ad4c)

# Contribute
If you would like to contribute to the source, please reach out to Director of Quality Engineering, Antwan Maddox,
or the Automation Team within the Quality Guild.

## Reporting bugs in WebDriverIO
Alternatively, you can report bugs that you encounter in WebDriverIO [here](https://github.com/webdriverio/webdriverio/issues)
